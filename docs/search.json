[
  {
    "objectID": "sector.html",
    "href": "sector.html",
    "title": "SECTOR ANALYTICS",
    "section": "",
    "text": "raw = await FileAttachment(\"ventas_boe.csv\").text()\n\n// Limpieza robusta (Quitar comillas, puntos y coma finales)\nclean_csv = raw.split(/\\r?\\n/).map(line =&gt; {\n  let l = line.trim();\n  if (!l) return null;\n  if (l.startsWith('\"') && l.endsWith('\"')) l = l.slice(1, -1);\n  if (l.endsWith(';')) l = l.slice(0, -1);\n  return l;\n}).filter(l =&gt; l !== null).join(\"\\n\")\n\n// Parseo Inteligente\ndata = d3.dsvFormat(\";\").parse(clean_csv, (d, i, columns) =&gt; {\n  const row = {\n    \"NIF\": d[columns[0]],       // 1¬™ Columna = NIF\n    \"Empresa\": d[columns[1]]    // 2¬™ Columna = Nombre\n  };\n\n  // Detectar columnas de a√±os\n  columns.forEach(col =&gt; {\n    if (col.includes(\"Ventas\")) {\n      let valStr = d[col] ? d[col].toString() : \"0\";\n      // Formato espa√±ol 1.234,56 -&gt; 1234.56\n      let val = parseFloat(valStr.replace(/\\./g, \"\").replace(\",\", \".\")) || 0;\n      let year = col.replace(\"Ventas\", \"\").trim();\n      row[year] = val; \n    }\n  });\n  return row;\n})\n\n// Filtrar a√±os v√°lidos y QUITAR 2025\nyears = Object.keys(data[0])\n  .filter(k =&gt; !isNaN(k) && k.length === 4 && k !== \"2025\")\n  .sort();\n\n// Datos en formato largo para gr√°ficas\ndata_long = data.flatMap(d =&gt; {\n  return years.map(year =&gt; ({\n    \"Empresa\": d[\"Empresa\"],\n    \"NIF\": d[\"NIF\"],\n    \"A√±o\": parseInt(year),\n    \"Ventas\": d[year] || 0\n  }));\n})\n\n// Estado Reactivo para el Popup\nmutable selectedCompany = null;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nüìä Mercado Globalüîç Comparador Avanzado\n\n\n\n\nEvoluci√≥n del Volumen Total\n\n\nSuma agregada de ventas (GWh) de todas las comercializadoras activas.\n\n\nPlot.plot({\n  style: { background: \"transparent\", color: \"#cbd5e1\", fontSize: \"14px\" },\n  height: 350,\n  marginLeft: 60,\n  y: { grid: true, label: \"Total GWh\", tickFormat: \"s\" },\n  x: { label: null, tickFormat: \"d\" },\n  marks: [\n    Plot.barY(data_long, Plot.groupX({y: \"sum\"}, {\n      x: \"A√±o\", \n      y: \"Ventas\", \n      fill: \"#2dd4bf\", \n      fillOpacity: 0.8,\n      tip: true,\n      title: d =&gt; `${d.A√±o}: ${d.Ventas.toLocaleString(\"es-ES\")} GWh`\n    })),\n    Plot.ruleY([0], {stroke: \"#475569\"})\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=\"flex: 1;\"&gt;\n  &lt;h3 style=\"color: #fff; margin:0;\"&gt;Directorio de Comercializadoras&lt;/h3&gt;\n  &lt;p style=\"color: #64748b; margin:0; font-size: 0.9rem;\"&gt;Busca y analiza el hist√≥rico individual.&lt;/p&gt;\n&lt;/div&gt;\n\n\nviewof searchTerm = Inputs.search(data, {\n  placeholder: \"Escribe nombre o NIF (ej: ENDESA, B82...)\",\n  columns: [\"Empresa\", \"NIF\"]\n})\n\n// 2. Tabla HTML Personalizada (Replica el dise√±o que te gusta)\nhtl.html`&lt;div style=\"overflow-x: auto; border-radius: 8px; border: 1px solid #334155;\"&gt;\n  &lt;table class=\"pro-table\"&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th style=\"width: 15%\"&gt;NIF&lt;/th&gt;\n        &lt;th style=\"width: 45%\"&gt;COMERCIALIZADORA&lt;/th&gt;\n        &lt;th style=\"width: 25%; text-align: right\"&gt;VENTAS 2024 (GWh)&lt;/th&gt;\n        &lt;th style=\"width: 15%; text-align: center\"&gt;AN√ÅLISIS&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      ${searchTerm.slice(0, 50).map(row =&gt; htl.html`\n        &lt;tr&gt;\n          &lt;td style=\"font-family: monospace; color: #94a3b8;\"&gt;${row.NIF}&lt;/td&gt;\n          &lt;td style=\"font-weight: 600; color: #f1f5f9;\"&gt;${row.Empresa}&lt;/td&gt;\n          &lt;td style=\"text-align: right; font-feature-settings: 'tnum';\"&gt;\n            ${(row[\"2024\"] || 0).toLocaleString(\"es-ES\", {minimumFractionDigits: 2, maximumFractionDigits: 2})}\n          &lt;/td&gt;\n          &lt;td style=\"text-align: center\"&gt;\n            &lt;button class=\"btn-view\" onclick=${() =&gt; { mutable selectedCompany = row; }}&gt;\n              üëÅÔ∏è Ver\n            &lt;/button&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      `)}\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  ${searchTerm.length === 0 ? htl.html`&lt;div style=\"padding:20px; text-align:center; color:#64748b;\"&gt;No se encontraron resultados&lt;/div&gt;` : ''}\n&lt;/div&gt;\n&lt;div style=\"margin-top: 10px; text-align: right; color: #64748b; font-size: 0.8rem;\"&gt;\n  Mostrando ${Math.min(50, searchTerm.length)} de ${data.length} empresas\n&lt;/div&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{\n  if (selectedCompany) {\n    const dialog = htl.html`&lt;dialog class=\"chart-modal\" open&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;div&gt;\n          &lt;h2 style=\"color: #2dd4bf; margin: 0; font-size: 1.2rem;\"&gt;${selectedCompany.Empresa}&lt;/h2&gt;\n          &lt;span style=\"color: #94a3b8; font-size: 0.9rem; font-family: monospace;\"&gt;${selectedCompany.NIF}&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;button class=\"btn-close\" onclick=${() =&gt; dialog.close()}&gt;&times;&lt;/button&gt;\n      &lt;/div&gt;\n      \n      &lt;div class=\"modal-body\"&gt;\n        &lt;div id=\"chart-container\"&gt;&lt;/div&gt;\n        &lt;div style=\"margin-top: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; text-align: center;\"&gt;\n          ${years.map(y =&gt; htl.html`\n            &lt;div style=\"background: rgba(15, 23, 42, 0.5); padding: 10px; border-radius: 8px; border: 1px solid #334155;\"&gt;\n              &lt;div style=\"color: #64748b; font-size: 0.8rem;\"&gt;${y}&lt;/div&gt;\n              &lt;div style=\"color: #fff; font-weight: bold;\"&gt;\n                ${(selectedCompany[y] || 0).toLocaleString(\"es-ES\", {maximumFractionDigits: 0})}\n              &lt;/div&gt;\n            &lt;/div&gt;\n          `)}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/dialog&gt;`;\n\n    // Insertar gr√°fico en el modal\n    const chart = Plot.plot({\n      style: { background: \"transparent\", color: \"#cbd5e1\", fontSize: \"13px\" },\n      height: 300,\n      width: 800,\n      marginLeft: 60,\n      grid: true,\n      x: { label: \"A√±o\", tickFormat: \"d\", domain: years.map(Number) },\n      y: { label: \"Ventas (GWh)\" },\n      marks: [\n        Plot.lineY(data_long.filter(d =&gt; d.Empresa === selectedCompany.Empresa), {\n          x: \"A√±o\", y: \"Ventas\", stroke: \"#2dd4bf\", strokeWidth: 3, marker: \"circle\", curve: \"monotone-x\", tip: true\n        }),\n        Plot.areaY(data_long.filter(d =&gt; d.Empresa === selectedCompany.Empresa), {\n          x: \"A√±o\", y: \"Ventas\", fill: \"url(#gradient)\", fillOpacity: 0.3\n        }),\n        // Gradiente Teal\n        () =&gt; svg`&lt;defs&gt;\n          &lt;linearGradient id=\"gradient\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\"&gt;\n            &lt;stop offset=\"0%\" stop-color=\"#2dd4bf\" stop-opacity=\"0.5\"/&gt;\n            &lt;stop offset=\"100%\" stop-color=\"#2dd4bf\" stop-opacity=\"0\"/&gt;\n          &lt;/linearGradient&gt;\n        &lt;/defs&gt;`\n      ]\n    });\n\n    dialog.querySelector(\"#chart-container\").append(chart);\n    dialog.addEventListener(\"close\", () =&gt; { mutable selectedCompany = null; });\n    document.body.append(dialog);\n    \n    // Cerrar al hacer clic fuera\n    dialog.addEventListener(\"click\", e =&gt; {\n      const rect = dialog.getBoundingClientRect();\n      if (e.clientX &lt; rect.left || e.clientX &gt; rect.right || e.clientY &lt; rect.top || e.clientY &gt; rect.bottom) {\n        dialog.close();\n      }\n    });\n\n    return dialog;\n  }\n}"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SAMUEL GAMITO",
    "section": "",
    "text": "SAMUEL GAMITO\n        ENERGY STRATEGY & MATHEMATICS\n        \n        \n            \"Transformando la volatilidad del mercado en margen EBITDA mediante ingenier√≠a de datos.\"\n        \n\n        \n            Soy Licenciado en C.C. Matem√°ticas con M√°ster en Ingenier√≠a Matem√°tica y Ejecutivo C-Level especializado en mercados energ√©ticos internacionales. Mi enfoque combina la rigurosidad del an√°lisis cuantitativo con la ejecuci√≥n operativa de alto nivel.\n        \n        \n            Actualmente liderando la expansi√≥n de Greening Group como CEO para el Sur de Europa.\n        \n    \n\n    \n        \n            \n                \n            \n        \n        \n            LinkedIn\n            Email\n        \n    \n\n\n\n    √Åreas de Expertise\n    \n    \n        \n            üìà Trading & Mercados\n            \n                Estructuraci√≥n de PPAs, cobertura de riesgos financieros y optimizaci√≥n de carteras (Power & Gas).\n            \n        \n\n        \n            ü§ñ Ingenier√≠a de Datos\n            \n                Extracci√≥n masiva de datos (CNMC/REE), modelado predictivo y automatizaci√≥n de procesos de decisi√≥n.\n            \n        \n\n        \n            üåç Estrategia Internacional\n            \n                Gesti√≥n de P&L en entornos regulatorios complejos y liderazgo de equipos transfronterizos (Espa√±a-Italia).\n            \n        \n\n        \n            ‚ö° Gesti√≥n de Activos\n            \n                Optimizaci√≥n de RoI en activos de generaci√≥n renovable y estrategias de comercializaci√≥n B2B."
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "ENERGY FLASH",
    "section": "",
    "text": "AnÔøΩlisis mensual."
  },
  {
    "objectID": "blog.html#market-intelligence",
    "href": "blog.html#market-intelligence",
    "title": "ENERGY FLASH",
    "section": "",
    "text": "AnÔøΩlisis mensual."
  },
  {
    "objectID": "dashboards.html",
    "href": "dashboards.html",
    "title": "MARKET INTELLIGENCE",
    "section": "",
    "text": "Herramientas propias de an√°lisis regulatorio y visualizaci√≥n de datos en tiempo real.\n\n\n\n\n\nüó∫Ô∏è Expansi√≥n Territorial\n\n\nVisualizaci√≥n geoespacial de la cartera de clientes de Alumbra. An√°lisis de densidad de consumo y penetraci√≥n regional.\n\n ABRIR MAPA INTERACTIVO  \n\n\n\n\n\nüìä Benchmarking FNEE\n\n\nDashboard estrat√©gico basado en datos de la CNMC. Seguimiento de cuotas de mercado, altas/bajas y evoluci√≥n de competidores.\n\n ACCEDER AL DASHBOARD"
  },
  {
    "objectID": "posts/2026-01-welcome/index.html",
    "href": "posts/2026-01-welcome/index.html",
    "title": "Informe Enero 2026",
    "section": "",
    "text": "Sistema operativo."
  },
  {
    "objectID": "posts/2026-01-welcome/index.html#informe-mensual",
    "href": "posts/2026-01-welcome/index.html#informe-mensual",
    "title": "Informe Enero 2026",
    "section": "",
    "text": "Sistema operativo."
  }
]